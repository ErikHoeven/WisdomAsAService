function promotoToBackLog(a,b,c){console.info("promotoToBackLog: "+c),"Incident"==c&&(console.info("promotoToBackLog Incident"),b.ticketType="Incident",postPlanningtoServer(a,b)),"Service Request"==c&&(b.ticketType="Service Request",console.info("promotoToBackLog SRQ"),postPlanningtoServer(a,b))}function postPlanningtoServer(a,b){console.info("postPlanningtoServer");var c=_.where(a,b);console.info("dataset ppt"),console.info(c),$.ajax({url:"/Dashboard/promoteToBackLog",type:"POST",contentType:"application/json",data:JSON.stringify({dataset:c}),success:function(a){console.info(a)}})}function getBackLogTable(a,b){console.info("---------------- getBackLogTable --------------------"),$.ajax({url:"/Dashboard/getBackLog",type:"GET",contentType:"application/json",success:function(c){var d='<table class="table table-hover">'+c.backlogHeader+c.backlogBody+"</table>";$("#"+a).html(d);var e='<table class="table table-hover">'+c.devHeader+c.devBody+"</table>";$("#"+b).html(e)}})}function updateBackLog(a){var b={};b.id=a,b.storyPoints=$("#txtStoryPoints"+a).val(),b.sprints=$("#sprint"+a+" option:selected").text(),b.developer=$("#developer"+a+" option:selected").text(),console.info(b),$.ajax({url:"/Dashboard/updateBackLog",type:"POST",contentType:"application/json",data:JSON.stringify({updateFields:b}),success:function(a){console.info(a);var b='<table id="planboard" class="table table-hover">'+a.backlogHeader+a.backlogBody+"</table>";$("#tblBacklog").html(b);var c='<table id="devStoryPoints" class="table table-hover">'+a.devHeader+a.devBody+"</table>";$("#tblDev").html(c);var d=(a.developer.split(" "),[]),e=0;$("#planboard tbody tr td:nth-child(2)").each(function(){d.push({pos:e,title:$(this).text()}),e++}),e=0,$("#planboard tbody tr td:nth-child(3)").each(function(){e==d[e].pos&&(d[e].days=$(this).text()),e++}),e=0,$("#planboard tbody tr td:nth-child(5)").each(function(){var a=d[e].title,b=d[e].days,c=SLA(a,b);$(this).html(c),e++}),e=0,$("#planboard tbody tr td:nth-child(6)").each(function(){var a=d[e].title,b=getLocalOffice(a);$(this).text(b),e++}),e=0,$("#planboard tbody tr td:nth-child(7)").each(function(){var a=d[e].title,b=getSLA(a);$(this).text(b),e++});var f=[],g=[],h=[],i={};$("#planboard tbody tr td:nth-child(10)").each(function(){f.push($(this).text())}),$("#planboard tbody tr td:nth-child(8)").each(function(){g.push($(this).text())});for(var e=0;e<f.length;e++)for(var j=0;j<g.length;j++)e==j&&f[e].length<30&&(i.developers=f[e],i.storypoints=parseInt(g[j]),h.push(i),i={});var k=d3.nest().key(function(a){return a.developers.split(" ")[0]}).rollup(function(a){return d3.sum(a,function(a){return a.storypoints})}).object(h),l=Object.keys(k);console.info("devpoints"),console.info(l),l.forEach(function(a){var b=$("#"+a).html(),c=b-k[a];$("#"+a).html(c)})}})}function clearBacklog(){$.ajax({url:"/Dashboard/clearBacklog",type:"GET",contentType:"application/json",success:function(a){$("#tblBacklog").html(""),$("#tblDev").html("")}})}function SLA(a,b){var c=a.split(" "),d="";return c.forEach(function(a){"00"==a&&0==b&&(d='<img src="/images/performance_green.png" height="21" width="21"></img>'),"00"==a&&b>0&&(d='<img src="/images/performance_red.jpg" height="21" width="21"></img>'),"01"==a&&b<=1&&(d='<img src="/images/performance_green.png"  height="21" width="21"></img>'),"01"==a&&b>1&&(d='<img src="/images/performance_red.jpg" height="21" width="21"></img>'),"02"==a&&b<=2&&(d='<img src="/images/performance_green.png"  height="21" width="21"></img>'),"02"==a&&b>2&&(d='<img src="/images/performance_red.jpg"  height="21" width="21"></img>'),"03"==a&&b<=3&&(d='<img src="/images/performance_green.png"  height="21" width="21"></img>'),"03"==a&&b>3&&(d='<img src="/images/performance_red.jpg"  height="21" width="21"></img>'),"04"==a&&b<=4&&(d='<img src="/images/performance_green.png"  height="21" width="21"></img>'),"04"==a&&b>4&&(d='<img src="/images/performance_red.jpg"  height="21" width="21"></img>'),"05"==a&&b<=5&&(d='<img src="/images/performance_green.png"  height="21" width="21"></img>'),"05"==a&&b>5&&(d='<img src="/images/performance_red.jpg"  height="21" width="21"></img>')}),d}function getLocalOffice(a){var b=a.split(" "),c="",d=0;return b.forEach(function(a){"LOES"==a.trim()&&0==d&&(c="Local Office Spain",d=1),"LOBE"==a.trim()&&0==d&&(c="Local Office Belgium",d=1),"LODE"==a.trim()&&0==d&&(c="Local Office Germany",d=1)}),0==d&&(c="Unknown",d=1),c}function getSLA(a){var b=a.split(" "),c="";return b.forEach(function(a){"00"==a&&(c="00: Solve it the same day"),"01"==a&&(c="01: Solve it within 1 day"),"02"==a&&(c="02: Solve it within 2 day"),"03"==a&&(c="03: Solve it within 3 day"),"04"==a&&(c="04: Solve it within 4 day"),"05"==a&&(c="05: Solve it within 5 day")}),c}
//# sourceMappingURL=exportToExcelBackLog.min.js.map