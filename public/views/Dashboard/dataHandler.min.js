function setTweetsPerCattegoryPerDay(a,b){var c=[],d=[];a.forEach(function(a){var b={};b.cattegorie=a.tweetCattegorie,b.kleur=a.color,d.push({dim:a.postDate,measure:a.values,Cattegorie:a.tweetCattegorie,kleur:a.color}),b.Data=d,c.push(b),d=[]}),b.forEach(function(a){var b={};b.cattegorie="All tweets",b.kleur="#63AC38",d.push({dim:a.dim,measure:a.measure,kleur:"#63AC38",Cattegorie:"All tweets"}),b.Data=d,c.push(b),d=[]});for(var e=0;e<c.length;e++){var f=0,g=[];c=c.filter(function(a){return!!a}),c.forEach(function(a){var b={};f==e&&(g=a),f>e&&a.cattegorie==g.cattegorie&&(b.dim=c[f].Data[0].dim,b.measure=c[f].Data[0].measure,b.kleur=c[f].kleur,b.Cattegorie=c[f].cattegorie,c[e].Data.push(b),delete c[f]),f++})}return c.forEach(function(a){a.Data=a.Data.sort(function(a,b){return format.parseTime(a.dim)>format.parseTime(b.dim)})}),c}function actualWeek(){var a=new Date,b=1,c=6,d=a.getDay(),e=a.getDate(),f=a.getDate(),g=new Date,h=new Date;for(d;d>b;d--)e--;for(d=a.getDay();d<c;d++)f++;return g=new Date(g.setDate(e)),h=new Date(h.setDate(f+1)),{startWeekDay:g,endWeekDay:h}}function actualMonth(){var a=new Date,b=new Date(a.getFullYear(),a.getMonth(),1),c=new Date(a.getFullYear(),a.getMonth()+1,0);return{startMonth:b,endMonth:c}}function filterDates(a,b,c,d){var e=d3.time.format("%Y-%m-%d"),f=[],g=[];console.info("------------ START FILTERING DATA---------------------------------"),console.info(a),console.info(b),console.info(c),console.info(d),console.info("-------------------------------------------------------------------");for(var h=0;h<c.length;h++){var i=[],f=c[h].Data,j=0;f.forEach(function(c){"ActualWeek"==d&&(console.info("erik02 Week"),weekNumber=new Date(c.dim).getWeek(),monthNumber=new Date(c.dim).getMonth()+1,j=1),e.parse(c.dim)>=a&&e.parse(c.dim)<=b&&("ActualMonth"==d&&(console.info("erik02 Month"),weekNumber=new Date(c.dim).getWeek(),monthNumber=new Date(c.dim).getMonth()+1,j=1),"ActualWeek"==d&&(i.push({cattegorie:c.Cattegorie,dim:c.dim,kleur:c.kleur,measure:c.measure}),oldDim=c.dim),"ActualMonth"==d&&i.push({cattegorie:c.Cattegorie,dim:weekNumber,kleur:c.kleur,measure:c.measure}),"ActualYear"==d&&i.push({cattegorie:c.Cattegorie,dim:monthNumber,kleur:c.kleur,measure:c.measure}))}),1==j&&g.push({Data:i,cattegorie:c[h].cattegorie,kleur:c[h].kleur})}console.info("------------ SET WEEKNUMBERS/MONTHNUMBERS/DAYS TO data arrray-------------------------"),console.info(g),console.info("-------------SET WEEKNUMBERS/MONTHNUMBERS/DAYS TO data arrray-------------------------");for(var k="",l="",m="",n=0,o=[],p=[],h=0;h<g.length;h++)if(ds=g[h].Data,1==ds.length)p.push(g[h]);else{k=g[h].cattegorie,m=g[h].kleur;for(var q=0;q<ds.length;q++)0==q&&(l=ds[q].dim,n=ds[q].measure,o=[]),q>0&&l!=ds[q].dim&&q+1!=ds.length&&(o.push({cattegorie:k,kleur:m,measure:n,dim:l}),l=ds[q].dim,n=ds[q].measure),q>0&&l==ds[q].dim&&q+1!=ds.length&&n!=ds[q].measure&&(n+=ds[q].measure),q+1==ds.length&&(n+=ds[q].measure,o.push({cattegorie:k,kleur:m,measure:n,dim:l}),p.push({cattegorie:k,kleur:m,Data:o}))}return console.info("------------ EINDE FILTERING DATA---------------------------------"),console.info(p),console.info("------------------------------------------------------------------"),p}function min_max_filterDates(a,b){return min_measure=99999999,max_measure=0,min_dim="9999999",max_dim="0","ActualMonth"==b?(min_dim=99999999,max_dim=0):"ActualWeek"==b&&(max_dim="1900-01-01",min_dim="9999-12-31"),a.forEach(function(a){format=d3.time.format("%Y-%m-%d"),ds=a.Data,ds.forEach(function(a){a.measure<min_measure&&(min_measure=a.measure),"ActualWeek"==b?format.parse(a.dim)<format.parse(min_dim)&&(min_dim=a.dim):a.dim<min_dim&&(min_dim=a.dim)})}),a.forEach(function(a){ds=a.Data,ds.forEach(function(a){a.measure>max_measure&&(max_measure=a.measure),"ActualWeek"==b?format.parse(a.dim)>format.parse(max_dim)&&(max_dim=a.dim):a.dim>max_dim&&(max_dim=a.dim)})}),{min_dim:min_dim,max_dim:max_dim,min_measure:min_measure,max_measure:max_measure}}function filterTweetsOnWord(a,b,c){var d,e=[],f=0,g=0,h=[],i=[],j="",k=/[,!:@;.#]/g;return console.info("filterTweetsOnWord:"),a.forEach(function(a){h.push(a.text)}),h.forEach(function(a){null!=b.corpus&&(console.info("corpusExist: "),i=a.split(" "),i.forEach(function(a){d=a,j=d.replace(k,""),c.forEach(function(a){a.target==j&&a.value==b.cattegorie&&(b.cattegorie=a.source)}),j==b.cattegorie&&(g=1),j==b.corpus&&(f=1)}),1==f&&1==g&&e.push(a)),null==b.corpus&&"parent"==b.type&&(console.info("corpusExist: "),i=a.split(" "),i.forEach(function(a){d=a,j=d.replace(k,""),j==b.cattegorie&&(g=1)}),1==g&&e.push(a)),null==b.corpus&&"master"==b.type&&(console.info("corpusExist: "),i=a.split(" "),i.forEach(function(a){d=a,j=d.replace(k,""),c.forEach(function(a){a.target==j&&a.value==b.cattegorie&&(b.cattegorie=a.source)}),j==b.cattegorie&&(g=1),j==b.corpus&&(f=1)}),1!=f&&1!=g||e.push(a))}),$("#filteredTweets").html(""),e.forEach(function(a){$("#filteredTweets").append("--------------------------------------- <br>"+a+"<br> ----------------------------------------------------------------")}),1}var format=d3.timeFormat("%Y-%m-%d");Date.prototype.getWeek=function(){var a=new Date(this.getFullYear(),0,1);return Math.ceil(((this-a)/864e5+a.getDay()+1)/7)-1};var data=[],data=setTweetsPerCattegoryPerDay(tweetsPerCattegoryPerDay,tweetsPerDay),startMonth=actualMonth().startMonth,endMonth=actualMonth().endMonth;
//# sourceMappingURL=dataHandler.min.js.map