function plotSocialGrah(a,b){function c(){u.attr("x1",function(a){return a.source.x}).attr("y1",function(a){return a.source.y}).attr("x2",function(a){return a.target.x}).attr("y2",function(a){return a.target.y}),v.attr("cx",function(a){return a.x}).attr("cy",function(a){return a.y})}function d(a){d3.event.active||r.alphaTarget(.3).restart(),a.fx=a.x,a.fy=a.y}function e(a){var b;return"parent"==a.type&&(b=18),b="master"==a.type?20:Math.floor(s(a.aantal))+4}function f(a){a.fx=d3.event.x,a.fy=d3.event.y}function g(a){d3.event.active||r.alphaTarget(0),a.fx=null,a.fy=null}function h(a){return"master"==a.type}function i(a){$(this).popover({title:a.id,placement:"auto top",container:"body",trigger:"manual",html:!0,content:function(){return"Aantal tweets: "+a.aantal}}),$(this).popover("show")}function j(){$(".popover").each(function(){$(this).remove()})}function k(a){var b;"child"==a.type&&(b=a.id)}console.info("jsonGraph:"),console.info(a);var l=a,m=l.nodes,n=(l.links,[]);m.forEach(function(a){n.push(a.aantal)});var o=d3.select("svg"),p=+o.attr("width"),q=+o.attr("height"),r=(d3.scaleOrdinal(d3.schemeCategory20),d3.forceSimulation().force("link",d3.forceLink().id(function(a){return a.id})).force("charge",d3.forceManyBody()).force("center",d3.forceCenter(p/2,q/2))),s=d3.scaleLinear().domain([0,d3.max(n)]).range([0,18]),t=m.filter(h),u=o.append("g").attr("class","links").selectAll("line").data(l.links).enter().append("line").attr("stroke-width",function(a){return Math.sqrt(a.value)}),v=o.append("g").attr("class","nodes").selectAll("circle").data(l.nodes).enter().append("circle").attr("r",function(a){return e(a)}).attr("fill",function(a){return"#"+a.color}).style("stroke-width","2px").on("mouseover",function(a){i.call(this,a)}).on("mouseout",function(a){j()}).on("click",function(b){"child"==b.type&&(k=filterTweetsOnWord({cattegorie:b.group,corpus:b.id,type:b.type},a.links)),"parent"==b.type&&(k=filterTweetsOnWord({cattegorie:b.id,corpus:null,type:b.type,group:b.group},a.links)),"master"==b.type&&(k=filterTweetsOnWord({cattegorie:b.id,corpus:null,type:b.type},a.links))}).call(d3.drag().on("start",d).on("drag",f).on("end",g)),w=o.selectAll(".legend").data(t).enter().append("g").attr("class","legend").attr("transform",function(a,b){return"translate(55,"+20*b+")"});w.append("rect").attr("x",p-150).attr("width",10).attr("height",10).style("fill",function(a){return"#"+a.color}).style("stroke","grey"),w.append("text").attr("x",p-70).attr("y",6).attr("dy",".35em").style("text-anchor","end").text(function(a){return a.id}),v.append("title").text(function(a){return a.id}),r.nodes(l.nodes).on("tick",c),r.force("link").links(l.links)}
//# sourceMappingURL=Graph.min.js.map