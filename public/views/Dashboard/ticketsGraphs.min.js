function plotGraph(a,b){console.info("plotGraph...");var c=(moment(b[0].key).format("YYYY-MM-DD"),b[0].value),d=Object.keys(c),e=[];d.forEach(function(a){e.push({label:a,y:b[0].value[a]})}),new CanvasJS.Chart(a,{theme:"theme2",title:{text:"Tickets per Group"},animationEnabled:!0,data:[{type:"column",dataPoints:e}]}).render()}function d3GraphPlot(a,b){console.info("d3GraphPlot"),$("#"+a).html(""),console.info(b),console.info("ds");var c=[],d={};b.forEach(function(a){d.snapshot=moment(a.key).format("YYYY-MM-DD"),d=Object.assign(d,a.value),c.push(d)});var e={top:20,right:20,bottom:30,left:40},f=500,g=300,h=d3.scaleBand().range([0,f],.1),i=d3.scaleLinear().range([g,0]),j=d3.scaleOrdinal().range(d3.schemeCategory10),k=d3.axisBottom(h),l=d3.axisLeft(i).tickFormat(d3.format(".2s")),m=d3.select("#"+a).append("svg").attr("width",f+e.left+e.right).attr("height",g+e.top+e.bottom).append("g").attr("transform","translate("+e.left+","+e.top+")"),n=d3.keys(c[0]).filter(function(a){return"snapshot"!==a});console.info(n);var o=d3.scaleBand().padding(.05).domain(n).range([0,n.length]);c.forEach(function(a){a.ages=n.map(function(b){return{name:b,value:+a[b]}})}),console.info("To Ages"),console.info(c),h.domain(c.map(function(a){return a.snapshot})),o.domain(n).rangeRound([0,h.bandwidth()]),i.domain([0,d3.max(c,function(a){return d3.max(a.ages,function(a){return a.value})})]),m.append("g").attr("class","x axis").attr("transform","translate(0,"+g+")").call(k),m.append("g").attr("class","y axis").call(l).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("tickets"),m.selectAll(".groups").data(c).enter().append("g").attr("class","groups").attr("transform",function(a){return"translate("+h(a.snapshot)+",0)"}).selectAll("rect").data(function(a){return a.ages}).enter().append("rect").attr("width",o.range()[1]/(1*n.length+1)).attr("x",function(a){return o(a.name)}).attr("y",function(a){return console.info(i(a.value)),i(a.value)}).attr("height",function(a){return g-i(a.value)}).style("fill",function(a){return j(a.name)});var p=m.selectAll(".legend").data(n.slice().reverse()).enter().append("g").attr("class","legend").attr("transform",function(a,b){return"translate(0,"+20*b+")"});p.append("rect").attr("x",f-18).attr("width",18).attr("height",18).style("fill",j),p.append("text").attr("x",f-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").text(function(a){return a})}
//# sourceMappingURL=ticketsGraphs.min.js.map