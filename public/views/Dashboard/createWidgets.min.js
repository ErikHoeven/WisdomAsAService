function setUserProfile(a){console.info("setUserProfile");var b=a.profilePictureURI;a.username;console.info(a),console.info(b),b||(console.info("User unknown"),b="/images/users/img2.jpg"),$("#userProfile").append('<div class="widget user-view-style-2"><div class="widget-wrapper"><div class="widget-content"><div class="text-center user-profile bg-white"><div class="header-cover bg-green"></div><div class="user-profile-inner padding-top-17"><img src="'+b+'" class="img-circle profile-avatar" data-pin-nopin="true" height="100" width="175"><h3  id="blockTitle" class="fg-gray font-bold"></h3></div></div></div></div></div>')}function getTickets(a,b){var c=0,d=moment(a,"YYYY-MM-DD").week()-1;$("#blockTitle").html(b+" - Incidents and Service Requests week: "+d),$.ajax({url:"/Dashboard/getTickets",type:"POST",contentType:"application/json",data:JSON.stringify({snapshot:a}),success:function(a){console.info("succes getTickets"),console.info(a),fltrGroup=a.fltrGroup,fltrGroupString='<select class="selectpicker" id="selectFltrGroup">',fltrGroup.forEach(function(a){fltrGroupString=fltrGroupString+"<option>"+a+"</option>"}),fltrGroupString+="</select>",$("#fltrListCattegory").html(fltrGroupString);var b=moment(a.snapshots[a.snapshots.length-1],"DD-MM-YYYY").format("DD-MM-YYYY");console.info(b);var d=[],e={};d=filterTickets("All",a.perSnapshot,b).stockValue,console.info("-----------  Funnel values------------"),console.info(d),e=d[0].value,console.info(e),$("#createdTickets").text(e.createdTickets).click(function(){}),$("#openTickets").text(e.ticketsInProgress).click(function(){console.info("click openTickets"),0==c&&(createfunnelRepportIncidents(filteredTickets,"ticketsList",{state:"In Progress"}),createfunnelRepportSRQ(filteredTickets,"ticketsList",{state:"In Progress"}))}),$("#closedTickets").text(e.ticketsSolved).click(function(){console.info("click SolvedTickets"),0==c&&(createfunnelRepportIncidents(a.allTickets,"ticketsList",{state:"Solved"}),createfunnelRepportSRQ(a.allTickets,"ticketsList",{state:"Solved"}))}),$("#stock").text(e.ticketsInStock);var f=a.perSnapshot[0].totActualTickets;console.info("data.perSnapshot[0].totActualTickets"),console.info(f),b=moment(b,"DD-MM-YYYY").format("YYYY-MM-DD"),d3GraphPlot("ticketChart2",f),console.info("SpiderData"),console.info(),$.ajax({url:"/Dashboard/getSpider",type:"POST",contentType:"application/json",data:JSON.stringify({data:_.where(a.perSnapshot[0].snapshotDetails,{IndSpider:1,IndEPS:1})}),success:function(a){console.info("succes"),console.info(a.Data.length),a.Data.length>0&&setSpiderChart("ticketChart",a.Data,a.Legenda)}}),$("#selectFltrGroup").change(function(){var d=$("#selectFltrGroup option:selected").text();$.ajax({url:"/Dashboard/getTickets",type:"POST",contentType:"application/json",data:JSON.stringify({snapshot:b,filter:d}),success:function(a){console.info("Change"),c=1,console.info(_.where(a.perSnapshot[0].snapshotDetails,{creationWeek:9})),newvalues=filterTickets(d,a.perSnapshot,b).stockValue,console.info("Funnel values Change"),e=newvalues[0].value,filteredTickets=filterTickets(d,a.perSnapshot,b).filteredTickets,console.info("----- Change ----------"),$("#createdTickets").text(e.createdTickets).click(function(){console.info("click createdTickets"),1==c&&(createfunnelRepportIncidents(filteredTickets,"ticketsList",{state:"Classification",IndCreated:1,responsibleGroup:d}),$("#INCTicketBackLogButton").html('<button type="button" id="cmdCreateUserStories" class="btn btn-primary">Create User Stories</button>'),$("#cmdCreateUserStories").click(function(){createBackLog(filteredTickets,{state:"Classification",IndCreated:1},"Incident")}),$("#INCTicketBackLogButton").append('<button type="button" id="cmdToPlanning" class="btn btn-primary">Promote to Planning</button>'),$("#cmdToPlanning").click(function(){console.info("cmdIncident"),promotoToBackLog(filteredTickets,{state:"Classification",IndCreated:1},"Incident")}),createfunnelRepportSRQ(filteredTickets,"ticketsList",{state:"Classification",IndCreated:1}),$("#SRQTicketBackLogButton").html('<button type="button" id="cmdSRQCreateUserStories" class="btn btn-primary">Create User Stories</button>'),$("#cmdSRQCreateUserStories").click(function(){createBackLog(filteredTickets,{state:"Classification"},"Service Request")}),$("#SRQTicketBackLogButton").append('<button type="button" id="cmdSRQToPlanning" class="btn btn-primary">Promote to Planning</button>'),$("#cmdSRQToPlanning").click(function(){promotoToBackLog(filteredTickets,{state:"Classification"},"Service Request")}))}),$("#openTickets").text(e.ticketsInProgress).click(function(){console.info("click createdTickets"),1==c&&(createfunnelRepportIncidents(filteredTickets,"ticketsList",{state:"In Progress",responsibleGroup:d,IndProgress:1}),createfunnelRepportSRQ(filteredTickets,"ticketsList",{state:"In Progress",responsibleGroup:d,IndProgress:1}))}),$("#closedTickets").text(e.ticketsSolved).click(function(){console.info("click createdTickets"),1==c&&(createfunnelRepportIncidents(filteredTickets,"ticketsList",{IndSolved:1,responsibleGroup:d}),createfunnelRepportSRQ(filteredTickets,"ticketsList",{IndSolved:1,responsibleGroup:d}))}),$("#stock").text(e.ticketsInStock).click(function(){console.info("click createdTickets"),1==c&&(createfunnelRepportIncidents(filteredTickets,"ticketsList",{IndStock:1,responsibleGroup:d}),createfunnelRepportSRQ(filteredTickets,"ticketsList",{IndStock:1,responsibleGroup:d}))})}}),"All"!=d?$.ajax({url:"/Dashboard/getSpider",type:"POST",contentType:"application/json",data:JSON.stringify({data:_.where(a.perSnapshot[0].snapshotDetails,{IndSpider:1,IndEPS:1,responsibleGroup:d})}),success:function(a){console.info("succes"),console.info(a),a.Data.length>0&&setSpiderChart("ticketChart",a.Data,a.Legenda)}}):$.ajax({url:"/Dashboard/getSpider",type:"POST",contentType:"application/json",data:JSON.stringify({data:_.where(a.perSnapshot[0].snapshotDetails,{IndSpider:1,IndEPS:1})}),success:function(a){console.info("succes"),console.info(a),setSpiderChart("ticketChart",a.Data,a.Legenda)}})}),ticketsSRL(a.perSnapshot[0].totTicketsperWeekSRL),ticketsCPF(a.perSnapshot[0].totTicketsperWeekCPF),ticketsCognos(a.perSnapshot[0].totTicketsperWeekCognos),ticketsDWH(a.perSnapshot[0].totTicketsperWeekDWH),ticketsESOFT(a.perSnapshot[0].totTicketsperWeekESOFT)}})}
//# sourceMappingURL=createWidgets.min.js.map