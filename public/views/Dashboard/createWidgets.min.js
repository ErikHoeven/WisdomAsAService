function setMachtingTweets(a,b,c,d,e){$(e).html(""),$(e).append('<div class="col-md-6 bg-twitter padding-bottom-38 text-center"> <div class="text-center"><p class="pull-left margin-top-20"><i class="fa fa-twitter fa-4x"></i></p><div class="social-overview"><span class="font-size-40 counter font-bold text-left">'+a+'</span><p class="margin-left-50 text-left">Tweets this month</p></div></div></div>'),$(e).append('<div class="col-md-6 bg-twitter padding-bottom-38 text-center"> <div class="text-center"><p class="pull-left margin-top-20"><i class="fa fa-twitter fa-4x"></i></p><div class="social-overview"><span class="font-size-40 counter font-bold text-left">'+b+'</span><p class="margin-left-50 text-left">Likes this month</p></div></div></div>'),$(e).append('<div class="col-md-6 bg-twitter padding-bottom-38 text-center"> <div class="text-center"><p class="pull-left margin-top-20"><i class="fa fa-twitter fa-4x"></i></p><div class="social-overview"><span class="font-size-40 counter font-bold text-left">'+c+'</span><p class="margin-left-50 text-left">Retweets this month</p></div></div></div>'),$(e).append('<div class="col-md-6 bg-twitter padding-bottom-38 text-center"> <div class="text-center"><p class="pull-left margin-top-20"><i class="fa fa-twitter fa-4x"></i></p><div class="social-overview"><span class="font-size-40 counter font-bold text-left">'+d+'</span><p class="margin-left-50 text-left">Users this month</p></div></div></div>')}function setUserProfile(a){console.info("setUserProfile");var b=a.profilePictureURI,c=a.username;b||(b="/images/users/img2.jpg"),$("#userProfile").append('<div class="widget user-view-style-2"><div class="widget-wrapper"><div class="widget-content"><div class="text-center user-profile bg-white"><div class="header-cover bg-green"></div><div class="user-profile-inner padding-top-17"><img src="'+b+'" class="img-circle profile-avatar" data-pin-nopin="true"><h4 class="fg-gray font-bold">'+c+"</h4></div></div></div></div></div>")}function getTweets(){$.ajax({url:"/Dashboard/getTweets",type:"GET",contentType:"application/json",success:function(a){console.info("succes getTweets");var b=a.tweets[0].values.count,c=a.tweets[0].values.likesPerDay,d=a.tweets[0].values.retweetsPerDay,e=a.graphArrayDayTweets,f=a.uniqueUsers;a.wordCloud;setMachtingTweets(b,c,d,f,"#social"),$("#myfirstchart").html(""),new Morris.Line({element:"myfirstchart",data:e,xkey:"date",ykeys:["value"],labels:["Value"]})}})}function getTickets(){$.ajax({url:"/Dashboard/getTickets",type:"GET",contentType:"application/json",success:function(a){console.info("succes getTickets"),fltrGroup=a.fltrGroup,fltrState=a.fltrState,fltrGroupString='<select class="selectpicker" id="selectFltrGroup">',fltrStateString='<select class="selectpicker" id="selectFltrState">',fltrGroup.forEach(function(a){fltrGroupString=fltrGroupString+"<option>"+a+"</option>"}),fltrGroupString+="</select>",fltrState.forEach(function(a){fltrStateString=fltrStateString+"<option>"+a+"</option>"}),fltrStateString+="</select>",$("#fltrListCattegory").html(fltrGroupString);var b=filterTickets("All",a.aggCountsPerDayCattegory);$("#createdTickets").text(b.createdTickets),$("#openTickets").text(b.openTickets),$("#closedTickets").text(b.solvedTickets),$("#newTickets").text(b.createdTickets),console.info("-------------Plot Graph-----------------------------"),d3GraphPlot("ticketChart2",b.countPerDay),setSpiderChart("ticketChart",a.dataSpider,a.legendaSpider),console.info("------------------------------------------"),$("#selectFltrGroup").change(function(){var b=$("#selectFltrGroup option:selected").text(),c=filterTickets(b,a.aggCountsPerDayCattegory);$("#createdTickets").text(c.createdTickets),$("#openTickets").text(c.openTickets).click(function(){console.info("Open click");var c=[{Group:b,State:"In progress"},{Group:b,State:"Waiting"}],d=getTicketList(a.allTickets,c,10,1),e=setPagnation(a.allTickets,10,1,c);$("#"+d.div).html(""),$("#"+d.div).append('<table class="table table-hover" id="'+d.tableName+'">'),$("#"+d.tableName).append("<thead>><tr>"+d.strColumns+"</tr></thead>"),$("#"+d.tableName).append("<tbody>"+d.strData+"</tbody></table>"),$("#pagnation").html(e),$(window).on("hashchange",function(b){console.info("changed");var d=window.location.hash.replace("#",""),e=getTicketList(a.allTickets,c,10,d),f=setPagnation(a.allTickets,10,d,c);$("#"+e.div).html(""),$("#"+e.div).append('<table class="table table-hover" id="'+e.tableName+'">'),$("#"+e.tableName).append("<thead>><tr>"+e.strColumns+"</tr></thead>"),$("#"+e.tableName).append("<tbody>"+e.strData+"</tbody></table>"),$("#pagnation").html(f)})}),$("#closedTickets").text(c.solvedTickets).click(function(){console.info("Solved click");var c=getTicketList(a.allTickets,{Group:b,State:"Solved"},10,1),d=setPagnation(a.allTickets,10,1,{Group:b,State:"Solved"});$("#"+c.div).html(""),$("#"+c.div).append('<table class="table table-hover" id="'+c.tableName+'">'),$("#"+c.tableName).append("<thead>><tr>"+c.strColumns+"</tr></thead>"),$("#"+c.tableName).append("<tbody>"+c.strData+"</tbody></table>"),$("#pagnation").html(d),$(window).on("hashchange",function(c){console.info("changed");var d=window.location.hash.replace("#",""),e=getTicketList(a.allTickets,{Group:b,State:"Solved"},10,d),f=setPagnation(a.allTickets,10,d,{Group:b,State:"Solved"});$("#"+e.div).html(""),$("#"+e.div).append('<table class="table table-hover" id="'+e.tableName+'">'),$("#"+e.tableName).append("<thead>><tr>"+e.strColumns+"</tr></thead>"),$("#"+e.tableName).append("<tbody>"+e.strData+"</tbody></table>"),$("#pagnation").html(f)})}),$("#newTickets").text(c.createdTickets).click(function(){console.info("newTickets click");var c=getTicketList(a.allTickets,{Group:b,State:"Classification"},10,1),d=setPagnation(a.allTickets,10,1,{Group:b,State:"Classification"});$("#"+c.div).html(""),$("#"+c.div).append('<table class="table table-hover" id="'+c.tableName+'">'),$("#"+c.tableName).append("<thead>><tr>"+c.strColumns+"</tr></thead>"),$("#"+c.tableName).append("<tbody>"+c.strData+"</tbody></table>"),$("#pagnation").html(d),$(window).on("hashchange",function(c){console.info("changed");var d=window.location.hash.replace("#",""),e=getTicketList(a.allTickets,{Group:b,State:"Classification"},10,d),f=setPagnation(a.allTickets,10,d,{Group:b,State:"Classification"});$("#"+e.div).html(""),$("#"+e.div).append('<table class="table table-hover" id="'+e.tableName+'">'),$("#"+e.tableName).append("<thead>><tr>"+e.strColumns+"</tr></thead>"),$("#"+e.tableName).append("<tbody>"+e.strData+"</tbody></table>"),$("#pagnation").html(f)})})}),ticketsCreatedPerWeek(a.aggCountsPerDayCattegory),ticketsSolvedPerWeek(a.allTickets),ticketsCreatedSRL(a.aggCountsPerDayCattegory),ticketsSolvedSRL(a.allTickets),ticketsCreatedCPF(a.aggCountsPerDayCattegory),ticketsSolvedCPF(a.allTickets),ticketsCreatedCognos(a.aggCountsPerDayCattegory)}})}function getWordCloud(a,b){function c(b){d3.select(a).append("svg").attr("width",e.size()[0]).attr("height",e.size()[1]).append("g").attr("transform","translate("+e.size()[0]/2+","+e.size()[1]/2+")").selectAll("text").data(b).enter().append("text").style("font-size",function(a){return a.size+"px"}).style("font-family","Impact").style("fill",function(a,b){return"#000"}).attr("text-anchor","middle").attr("transform",function(a){return"translate("+[a.x,a.y]+")rotate("+a.rotate+")"}).text(function(a){return a.text})}console.info(b);var d=d3.layout.cloud,e=(d3.schemeCategory20,d().size([500,500]).words(b.map(function(a){return{text:a,size:10+90*Math.random(),test:"haha"}})).padding(5).rotate(function(){return 90*~~(1*Math.random())}).font("Impact").fontSize(function(a){return a.size}).on("end",c));e.start()}function filterTickets(a,b){var c=[],d={};if("All"!=a){c=_.where(b,{Group:a});var e=d3.nest().key(function(a){return a.snapshotDate}).rollup(function(a){return{cpf:d3.sum(a,function(a){return a.cpf}),esoft:d3.sum(a,function(a){return a.esoft}),firstLine:d3.sum(a,function(a){return a.firstLine}),infra:d3.sum(a,function(a){return a.infra}),secondLineApps:d3.sum(a,function(a){return a.secondLineApps}),cognos:d3.sum(a,function(a){return a.cognos}),desktopVirtualisatie:d3.sum(a,function(a){return a.desktopVirtualisatie}),srl:d3.sum(a,function(a){return a.srl})}}).entries(b)}else{c=b,console.info("returnArray");var e=d3.nest().key(function(a){return a.snapshotDate}).rollup(function(a){return{cpf:d3.sum(a,function(a){return a.cpf}),esoft:d3.sum(a,function(a){return a.esoft}),firstLine:d3.sum(a,function(a){return a.firstLine}),infra:d3.sum(a,function(a){return a.infra}),secondLineApps:d3.sum(a,function(a){return a.secondLineApps}),infra:d3.sum(a,function(a){return a.infra}),cognos:d3.sum(a,function(a){return a.cognos}),desktopVirtualisatie:d3.sum(a,function(a){return a.desktopVirtualisatie}),srl:d3.sum(a,function(a){return a.srl})}}).entries(c),f=[];Object.keys(e[0].value).forEach(function(a){f.push(e[0].value[a])})}var g=c;console.info("aggCountsPerDayCattegory"),console.info(g);var h=d3.nest().key(function(a){return a.snapshotDate}).rollup(function(a){return{countCreatedTickets:d3.sum(a,function(a){return a.countCreatedTickets}),countOpenTickets:d3.sum(a,function(a){return a.countOpenTickets}),countSolvedTickets:d3.sum(a,function(a){return a.countSolvedTickets})}}).entries(g);console.info(h);var i=h[h.length-1].value.countCreatedTickets,j=h[h.length-1].value.countOpenTickets,k=h[h.length-1].value.countSolvedTickets;return c.forEach(function(a){var b=moment(a.CreationDate).format("DD-MM-YYYY");a.CreationDate=b}),d.createdTickets=i,d.openTickets=j,d.solvedTickets=k,d.fltrData=c,d.countPerDay=e,console.info("returnObject"),console.info(g),d}
//# sourceMappingURL=createWidgets.min.js.map