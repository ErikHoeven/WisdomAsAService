!function(a){function b(a){return a}function c(a,b){for(var c=0,d=b.length,e=new Array(d);d>c;++c)e[c]=a[b[c]];return e}function d(a){function b(b,c,d,e){for(;e>d;){var f=d+e>>>1;a(b[f])<c?d=f+1:e=f}return d}function c(b,c,d,e){for(;e>d;){var f=d+e>>>1;c<a(b[f])?e=f:d=f+1}return d}return c.right=c,c.left=b,c}function e(a){function b(a,b,c){for(var e=c-b,f=(e>>>1)+1;--f>0;)d(a,f,e,b);return a}function c(a,b,c){for(var e,f=c-b;--f>0;)e=a[b],a[b]=a[b+f],a[b+f]=e,d(a,1,f,b);return a}function d(b,c,d,e){for(var f,g=b[--e+c],h=a(g);(f=c<<1)<=d&&(d>f&&a(b[e+f])>a(b[e+f+1])&&f++,!(h<=a(b[e+f])));)b[e+c]=b[e+f],c=f;b[e+c]=g}return b.sort=c,b}function f(a){function b(b,d,e,f){var g,h,i,j,k=new Array(f=Math.min(e-d,f));for(h=0;f>h;++h)k[h]=b[d++];if(c(k,0,f),e>d){g=a(k[0]);do(i=a(j=b[d])>g)&&(k[0]=j,g=a(c(k,0,f)[0]));while(++d<e)}return k}var c=e(a);return b}function g(a){function b(b,c,d){for(var e=c+1;d>e;++e){for(var f=e,g=b[e],h=a(g);f>c&&a(b[f-1])>h;--f)b[f]=b[f-1];b[f]=g}return b}return b}function h(a){function b(a,b,e){return(B>e-b?d:c)(a,b,e)}function c(c,d,e){var f,g=(e-d)/6|0,h=d+g,i=e-1-g,j=d+e-1>>1,k=j-g,l=j+g,m=c[h],n=a(m),o=c[k],p=a(o),q=c[j],r=a(q),s=c[l],t=a(s),u=c[i],v=a(u);n>p&&(f=m,m=o,o=f,f=n,n=p,p=f),t>v&&(f=s,s=u,u=f,f=t,t=v,v=f),n>r&&(f=m,m=q,q=f,f=n,n=r,r=f),p>r&&(f=o,o=q,q=f,f=p,p=r,r=f),n>t&&(f=m,m=s,s=f,f=n,n=t,t=f),r>t&&(f=q,q=s,s=f,f=r,r=t,t=f),p>v&&(f=o,o=u,u=f,f=p,p=v,v=f),p>r&&(f=o,o=q,q=f,f=p,p=r,r=f),t>v&&(f=s,s=u,u=f,f=t,t=v,v=f);var w=o,x=p,y=s,z=t;c[h]=m,c[k]=c[d],c[j]=q,c[l]=c[e-1],c[i]=u;var A=d+1,B=e-2,C=z>=x&&x>=z;if(C)for(var D=A;B>=D;++D){var E=c[D],F=a(E);if(x>F)D!==A&&(c[D]=c[A],c[A]=E),++A;else if(F>x)for(;;){var G=a(c[B]);{if(!(G>x)){if(x>G){c[D]=c[A],c[A++]=c[B],c[B--]=E;break}c[D]=c[B],c[B--]=E;break}B--}}}else for(var D=A;B>=D;D++){var E=c[D],F=a(E);if(x>F)D!==A&&(c[D]=c[A],c[A]=E),++A;else if(F>z)for(;;){var G=a(c[B]);{if(!(G>z)){x>G?(c[D]=c[A],c[A++]=c[B],c[B--]=E):(c[D]=c[B],c[B--]=E);break}if(B--,D>B)break}}}if(c[d]=c[A-1],c[A-1]=w,c[e-1]=c[B+1],c[B+1]=y,b(c,d,A-1),b(c,B+2,e),C)return c;if(h>A&&B>i){for(var H,G;(H=a(c[A]))<=x&&H>=x;)++A;for(;(G=a(c[B]))<=z&&G>=z;)--B;for(var D=A;B>=D;D++){var E=c[D],F=a(E);if(x>=F&&F>=x)D!==A&&(c[D]=c[A],c[A]=E),A++;else if(z>=F&&F>=z)for(;;){var G=a(c[B]);{if(!(z>=G&&G>=z)){x>G?(c[D]=c[A],c[A++]=c[B],c[B--]=E):(c[D]=c[B],c[B--]=E);break}if(B--,D>B)break}}}}return b(c,A,B+1)}var d=g(a);return b}function i(a){return new Array(a)}function j(a,b){return function(c){var d=c.length;return[a.left(c,b,0,d),a.right(c,b,0,d)]}}function k(a,b){var c=b[0],d=b[1];return function(b){var e=b.length;return[a.left(b,c,0,e),a.left(b,d,0,e)]}}function l(a){return[0,a.length]}function m(){return null}function n(){return 0}function o(a){return a+1}function p(a){return a-1}function q(a){return function(b,c){return b+ +a(c)}}function r(a){return function(b,c){return b-a(c)}}function s(){function a(a){var b=z,c=a.length;return c&&(y=y.concat(a),D=F(D,z+=c),H.forEach(function(d){d(a,b,c)})),x}function d(){for(var a=t(z,z),b=[],c=0,d=0;z>c;++c)D[c]?a[c]=d++:b.push(c);E.forEach(function(a){a(0,[],b)}),I.forEach(function(b){b(a)});for(var e,c=0,d=0;z>c;++c)(e=D[c])&&(c!==d&&(D[d]=e,y[d]=y[c]),++d);for(y.length=d;z>d;)D[--z]=0}function g(a){function d(b,d,e){U=b.map(a),V=$(u(e),0,e),U=c(U,V);var f,g=_(U),h=g[0],i=g[1];if(W)for(f=0;e>f;++f)W(U[f],f)||(D[V[f]+d]|=Y);else{for(f=0;h>f;++f)D[V[f]+d]|=Y;for(f=i;e>f;++f)D[V[f]+d]|=Y}if(!d)return S=U,T=V,ca=h,void(da=i);var j=S,k=T,l=0,m=0;for(S=new Array(z),T=t(z,z),f=0;d>l&&e>m;++f)j[l]<U[m]?(S[f]=j[l],T[f]=k[l++]):(S[f]=U[m],T[f]=V[m++]+d);for(;d>l;++l,++f)S[f]=j[l],T[f]=k[l];for(;e>m;++m,++f)S[f]=U[m],T[f]=V[m]+d;g=_(S),ca=g[0],da=g[1]}function g(a,b,c){aa.forEach(function(a){a(U,V,b,c)}),U=V=null}function i(a){for(var b,c=0,d=0;z>c;++c)D[b=T[c]]&&(c!==d&&(S[d]=S[c]),T[d]=a[b],++d);for(S.length=d;z>d;)T[d++]=0;var e=_(S);ca=e[0],da=e[1]}function s(a){var b=a[0],c=a[1];if(W)return W=null,M(function(a,d){return d>=b&&c>d}),ca=b,da=c,X;var d,e,f,g=[],h=[];if(ca>b)for(d=b,e=Math.min(ca,c);e>d;++d)D[f=T[d]]^=Y,g.push(f);else if(b>ca)for(d=ca,e=Math.min(b,da);e>d;++d)D[f=T[d]]^=Y,h.push(f);if(c>da)for(d=Math.max(b,da),e=c;e>d;++d)D[f=T[d]]^=Y,g.push(f);else if(da>c)for(d=Math.max(ca,c),e=da;e>d;++d)D[f=T[d]]^=Y,h.push(f);return ca=b,da=c,E.forEach(function(a){a(Y,g,h)}),X}function x(a){return null==a?K():Array.isArray(a)?J(a):"function"==typeof a?L(a):C(a)}function C(a){return s((_=j(w,a))(S))}function J(a){return s((_=k(w,a))(S))}function K(){return s((_=l)(S))}function L(a){return _=l,M(W=a),ca=0,da=z,X}function M(a){var b,c,d,e=[],f=[];for(b=0;z>b;++b)!(D[c=T[b]]&Y)^(d=a(S[b],b))&&(d?(D[c]&=Z,e.push(c)):(D[c]|=Y,f.push(c)));E.forEach(function(a){a(Y,e,f)})}function N(a){for(var b,c=[],d=da;--d>=ca&&a>0;)D[b=T[d]]||(c.push(y[b]),--a);return c}function O(a){for(var b,c=[],d=ca;da>d&&a>0;)D[b=T[d]]||(c.push(y[b]),--a),d++;return c}function P(a){function c(b,c,d,e){function f(){++U===R&&(s=G(s,Q<<=1),K=G(K,Q),R=v(Q))}var k,l,n,o,p,q,r=J,s=t(U,R),u=N,w=P,x=U,A=0,B=0;for(X&&(u=w=m),J=new Array(U),U=0,K=x>1?F(K,z):t(z,R),x&&(n=(l=r[0]).key);e>B&&!((o=a(b[B]))>=o);)++B;for(;e>B;){for(l&&o>=n?(p=l,q=n,s[A]=U,(l=r[++A])&&(n=l.key)):(p={key:o,value:w()},q=o),J[U]=p;!(o>q||(K[k=c[B]+d]=U,D[k]&Z||(p.value=u(p.value,y[k])),++B>=e));)o=a(b[B]);f()}for(;x>A;)J[s[A]=U]=r[A++],f();if(U>A)for(A=0;d>A;++A)K[A]=s[K[A]];k=E.indexOf(V),U>1?(V=g,W=i):(1===U?(V=h,W=j):(V=m,W=m),K=null),E[k]=V}function d(){if(U>1){for(var a=U,b=J,c=t(a,a),d=0,e=0;z>d;++d)D[d]&&(c[K[e]=K[d]]=1,++e);for(J=[],U=0,d=0;a>d;++d)c[d]&&(c[d]=U++,J.push(b[d]));if(U>1)for(var d=0;e>d;++d)K[d]=c[K[d]];else K=null;E[E.indexOf(V)]=U>1?(W=i,V=g):1===U?(W=j,V=h):W=V=m}else if(1===U){for(var d=0;z>d;++d)if(D[d])return;J=[],U=0,E[E.indexOf(V)]=V=W=m}}function g(a,b,c){if(a!==Y&&!X){var d,e,f,g;for(d=0,f=b.length;f>d;++d)D[e=b[d]]&Z||(g=J[K[e]],g.value=N(g.value,y[e]));for(d=0,f=c.length;f>d;++d)(D[e=c[d]]&Z)===a&&(g=J[K[e]],g.value=O(g.value,y[e]))}}function h(a,b,c){if(a!==Y&&!X){var d,e,f,g=J[0];for(d=0,f=b.length;f>d;++d)D[e=b[d]]&Z||(g.value=N(g.value,y[e]));for(d=0,f=c.length;f>d;++d)(D[e=c[d]]&Z)===a&&(g.value=O(g.value,y[e]))}}function i(){var a,b;for(a=0;U>a;++a)J[a].value=P();for(a=0;z>a;++a)D[a]&Z||(b=J[K[a]],b.value=N(b.value,y[a]))}function j(){var a,b=J[0];for(b.value=P(),a=0;z>a;++a)D[a]&Z||(b.value=N(b.value,y[a]))}function k(){return X&&(W(),X=!1),J}function l(a){var b=L(k(),0,J.length,a);return M.sort(b,0,b.length)}function s(a,b,c){return N=a,O=b,P=c,X=!0,H}function u(){return s(o,p,n)}function w(a){return s(q(a),r(a),n)}function x(a){function b(b){return a(b.value)}return L=f(b),M=e(b),H}function A(){return x(b)}function B(){return U}function C(){var a=E.indexOf(V);return a>=0&&E.splice(a,1),a=aa.indexOf(c),a>=0&&aa.splice(a,1),a=I.indexOf(d),a>=0&&I.splice(a,1),H}var H={top:l,all:k,reduce:s,reduceCount:u,reduceSum:w,order:x,orderNatural:A,size:B,dispose:C,remove:C};ba.push(H);var J,K,L,M,N,O,P,Q=8,R=v(Q),U=0,V=m,W=m,X=!0;return arguments.length<1&&(a=b),E.push(V),aa.push(c),I.push(d),c(S,T,0,z),u().orderNatural()}function Q(){var a=P(m),b=a.all;return delete a.all,delete a.top,delete a.order,delete a.orderNatural,delete a.size,a.value=function(){return b()[0].value},a}function R(){ba.forEach(function(a){a.dispose()});var a=H.indexOf(d);for(a>=0&&H.splice(a,1),a=H.indexOf(g),a>=0&&H.splice(a,1),a=I.indexOf(i),a>=0&&I.splice(a,1),a=0;z>a;++a)D[a]&=Z;return A&=Z,X}var S,T,U,V,W,X={filter:x,filterExact:C,filterRange:J,filterFunction:L,filterAll:K,top:N,bottom:O,group:P,groupAll:Q,dispose:R,remove:R},Y=~A&-~A,Z=~Y,$=h(function(a){return U[a]}),_=l,aa=[],ba=[],ca=0,da=0;return H.unshift(d),H.push(g),I.push(i),A|=Y,(B>=32?!Y:A&(1<<B)-1)&&(D=G(D,B<<=1)),d(y,0,z),g(y,0,z),X}function i(){function a(a,b){var c;if(!s)for(c=b;z>c;++c)D[c]||(i=j(i,y[c]))}function b(a,b,c){var d,e,f;if(!s){for(d=0,f=b.length;f>d;++d)D[e=b[d]]||(i=j(i,y[e]));for(d=0,f=c.length;f>d;++d)D[e=c[d]]===a&&(i=k(i,y[e]))}}function c(){var a;for(i=l(),a=0;z>a;++a)D[a]||(i=j(i,y[a]))}function d(a,b,c){return j=a,k=b,l=c,s=!0,m}function e(){return d(o,p,n)}function f(a){return d(q(a),r(a),n)}function g(){return s&&(c(),s=!1),i}function h(){var c=E.indexOf(b);return c>=0&&E.splice(c),c=H.indexOf(a),c>=0&&H.splice(c),m}var i,j,k,l,m={reduce:d,reduceCount:e,reduceSum:f,value:g,dispose:h,remove:h},s=!0;return E.push(b),H.push(a),a(y,0,z),e()}function s(){return z}var x={add:a,remove:d,dimension:g,groupAll:i,size:s},y=[],z=0,A=0,B=8,D=C(0),E=[],H=[],I=[];return arguments.length?a(arguments[0]):x}function t(a,b){return(257>b?C:65537>b?D:E)(a)}function u(a){for(var b=t(a,a),c=-1;++c<a;)b[c]=c;return b}function v(a){return 8===a?256:16===a?65536:4294967296}s.version="1.3.5",s.permute=c;var w=s.bisect=d(b);w.by=d;var x=s.heap=e(b);x.by=e;var y=s.heapselect=f(b);y.by=f;var z=s.insertionsort=g(b);z.by=g;var A=s.quicksort=h(b);A.by=h;var B=32,C=i,D=i,E=i,F=b,G=b;"undefined"!=typeof Uint8Array&&(C=function(a){return new Uint8Array(a)},D=function(a){return new Uint16Array(a)},E=function(a){return new Uint32Array(a)},F=function(a,b){if(a.length>=b)return a;var c=new a.constructor(b);return c.set(a),c},G=function(a,b){var c;switch(b){case 16:c=D(a.length);break;case 32:c=E(a.length);break;default:throw new Error("invalid array width!")}return c.set(a),c}),a.crossfilter=s}(this);
//# sourceMappingURL=crossfilter.min.js.map