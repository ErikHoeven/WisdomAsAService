function startCVOpleiding(a){$.ajax({url:"/admin/getOpleiding",type:"POST",contentType:"application/json",data:JSON.stringify({id:a}),success:function(b){var c,d=0,e=0,f=[],g=b.cv.opleiding,h=addCVWizzard();if(g){console.info("opleiding bestaat");var i=b.cv.opleiding[0],j=addCVOpleiding(i),f=g,k=tblOpleiding(f,a)}else var j=addCVOpleiding();$("#contentElement").html(h+j),$("#Personalia").click(function(){console.info("Personalia"),addCVPeronaliaForm(cv)}),$("#Profiel").click(function(){console.info("Profiel"),startCVProfiel(a,cv)}),$("#Werkervaring").click(function(){console.info("Werkervaring"),startCVWerkervaring(a)}),$("#Opleiding").click(function(){console.info("Opleiding"),startCVOpleiding(a)}),$("#Vaardigheden").click(function(){console.info("Vaardigheden"),startCVVaardigheden(a)}),$("#txtdateDatumVan").datepicker(),$("#txtDatumTot").datepicker(),$("#tblOpleiding").html(k),$("#Werkervarin").removeClass(),$("#Opleiding").addClass("active"),$("#addOpleiding").click(function(){console.info("ID: "+a),console.info(f),f=addOpleiding(d,e,f,c,a),console.info("After click Add"),console.info(f)}),$("#saveOpleiding").click(function(){console.info("saveWerkervaring: "+a),startCVVaardigheden(a)})}})}function addCVOpleiding(a){if(a){var b=a.opleiding,c='<div class="tab-pane active fade in" id="tab3"> <div class="row margin-bottom-10" id="frmOpleiding"> <div class="col-md-6"> <div class="row"> <div class="form-group col-md-6"> <label for="Functienaam">Opleiding</label> <input type="text" class="form-control" name="txtOpleiding" id="txtOpleiding" value="'+b+'"> </div> <div class="form-group col-md-6"> <label for="Bedrijf">Instituut</label> <input type="text" class="form-control" name="txtInstituut" id="txtInstituut" value="'+a.instituut+'"> </div> <div class="form-group col-md-6"> <label for="van">van</label> <input type="text" class="form-control" name="txtDatumVan" id="txtdateDatumVan" value="'+a.van+'"> </div> <div class="form-group col-md-6"> <label for="tot">tot</label> <input type="text" class="form-control" name="txtDatumTot" id="txtDatumTot" value="'+a.tot+'"> </div> <div class="form-group col-md-6"> <label for="typeOpleiding">Type Opleiding</label> <select id="selTypeOpleiding"><option value="opleiding">opleiding</option><option value="Business Intelligence Cursus">Business Intelligence Cursussen</option><option value="Overige Cursussen">Overige Cursussen</option></select></div> </div> </div> <div class="col-md-6"> <h4>Opleiding</h4> <div id="tblOpleiding"></div></div> </div> </div>',d='<div class="col-md-4"><a href="#" class="btn btn-default" id="updatedOpleiding">Wijzigen Opleiding <i class="fa fa-long-arrow-right"></i></a></div><div class="col-md-4" align="right"><a href="#" class="btn btn-default" id="addOpleiding">Toevoegen Opleiding <i class="fa fa-long-arrow-right"></i></a></div><div class="col-md-4" align="right"><a href="#" class="btn btn-default" id="saveOpleiding">Volgende <i class="fa fa-long-arrow-right"></i></a></div>';return c+d}var c='<div class="tab-pane active fade in" id="tab3"> <div class="row margin-bottom-10" id="frmOpleiding"> <div class="col-md-6"> <div class="row"> <div class="form-group col-md-6"> <label for="Functienaam">Opleiding</label> <input type="text" class="form-control" name="txtOpleiding" id="txtOpleiding" placeholder="Opleiding"> </div> <div class="form-group col-md-6"> <label for="Bedrijf">Instituut</label> <input type="text" class="form-control" name="txtInstituut" id="txtInstituut" placeholder="Instituut"> </div> <div class="form-group col-md-12"> <label for="van">Van</label> <input type="text" class="form-control" name="txtDatumVan" id="txtdateDatumVan" placeholder="Datum van"> </div> <div class="form-group col-md-12"> <label for="tot">tot</label> <input type="text" class="form-control" name="txtDatumTot" id="txtDatumTot" placeholder="Datum tot"> </div> </div> </div> <div class="col-md-6"> <h4>Opleiding</h4> <p><div id="tblOpleiding"></div></p> </div> </div> </div>',d='<div id="cmdOpleiding"></div><a href="#" class="btn btn-default" id="addOpleiding">Toevoegen Opleiding <i class="fa fa-long-arrow-right"></i></a></div>';return c+d}function buildOpleidingArray(a,b,c){console.info("buildOpleidingArray");var d=[],e=0;return b?(console.info("currentArray Exist"),b.forEach(function(b){a==b.opleiding&&(e=1),a!=b.opleiding&&(e=0)})):(console.info("currentArray does not exist"),b=[]),0==e?(d=b,d.push(c)):d=b,d}function tblOpleiding(a,b){for(var c="<theader><th>Opleiding</th><th>Instituut</th><th>van</th><th>tot</th></theader>",d="<tbody>",e='<table id="roleTable" class="table table-hover">',f=0;f<a.length;f++)d=d+'<tr><td id="'+f+'">'+a[f].opleiding+'</td><td id="'+f+'">'+a[f].instituut+'</td><td id="'+f+'">'+a[f].van+'</td><td id="'+f+'">'+a[f].tot+'</td><td id="cmd'+f+'"><button type="button" class="btn btn-default btn-sm" onclick="updateFieldOpleiding(\''+b+"','"+f+'\')"><span id="span"'+f+' class="glyphicon glyphicon-edit"></span> Edit</button></td><td id="del'+f+'"><button type="button" class="btn btn-default btn-sm" onclick="removeOpleiding(\''+b+"','"+f+'\')"><span id="span"'+f+' class="glyphicon glyphicon-remove"></span> Remove</button></td></tr>';return e=e+c+d}function addOpleiding(a,b,c,d,e){if(console.info("saveOpleiding: "+a+" :  "+b),console.info("opleidingsArray:"),console.info(c),0==b){a++;var f=$("#txtOpleiding").val(),g=$("#txtInstituut").val(),h=$("#txtdateDatumVan").val(),i=$("#txtDatumTot").val(),j=$("#selTypeOpleiding option:selected").text(),k={nr:a,opleiding:f,instituut:g,van:h,tot:i,typeOpleiding:j};console.info(c),c=buildOpleidingArray(f,c,k);var l=tblOpleiding(c,e);$("#tblOpleiding").html(l)}else{console.info("ELSE WERKERVARING"),console.info(c[d].functienaam),console.info(d);var f=$("#txtOpeiding").val(),g=$("#txtInstituut").val(),h=$("#txtdateDatumVan").val(),i=$("#txtDatumTot").val(),j=$("#selTypeOpleiding option:selected").text();c[d].opleiding=f,c[d].instituut=g,c[d].van=h,c[d].tot=i,c[d].typeOpleiding=j,console.info(c);var l=tblOpleiding(c);$("#tblOpleiding").html(l)}return $.ajax({url:"/admin/saveOpleiding",type:"POST",contentType:"application/json",data:JSON.stringify({opleiding:c,id:e}),success:function(a){console.info(a)}}),c}function updateFieldOpleiding(a,b){console.info("updateOpleiding"),console.info(a),console.info(b),$.ajax({url:"/admin/getOpleiding",type:"POST",contentType:"application/json",data:JSON.stringify({id:a}),success:function(c){var d=c.cv.opleiding[b],e=c.cv.opleiding;console.info(d);var f=d.opleiding;$("#txtOpleiding").val(f),$("#txtInstituut").val(d.instituut),$("#txtdateDatumVan").val(d.van),$("#txtDatumTot").val(d.tot),$('#selTypeOpleiding option:contains("'+d.typeOpleiding+'")').prop("selected",!0),$("#cmdOpleiding").html(""),$("#cmdOpleiding").html('<a href="#" class="btn btn-default" id="updatedOpleiding">Wijzigen Opleiding <i class="fa fa-long-arrow-right"></i></a>'),$("#updatedOpleiding").click(function(){var c=$("#txtOpeiding").val(),d=$("#txtInstituut").val(),f=$("#txtdateDatumVan").val(),g=$("#txtDatumTot").val(),h=$("#selTypeOpleiding option:selected").text();e[b].opleiding=c,e[b].instituut=d,e[b].van=f,e[b].van=g,opleidingArray[b].typeOpleiding=h,$.ajax({url:"/admin/saveOpleiding",type:"POST",contentType:"application/json",data:JSON.stringify({opleiding:e,id:a}),success:function(b){console.info(b),$.ajax({url:"/admin/getOpleiding",type:"POST",contentType:"application/json",data:JSON.stringify({id:a}),success:function(b){var c=tblOpleiding(b.cv.opleiding,a);$("#tblOpleiding").html(c)}})}})})}})}function removeOpleiding(a,b){console.info("RemoveOpleiding:"),console.info(a),console.info(b),$.ajax({url:"/admin/removeOpleiding",type:"POST",contentType:"application/json",data:JSON.stringify({id:a,row:b}),success:function(a){console.info(a.cv[0]),startCVOpleiding(a.cv[0],null,a.cv[0]._id)}})}
//# sourceMappingURL=cvOpleidingRules.min.js.map