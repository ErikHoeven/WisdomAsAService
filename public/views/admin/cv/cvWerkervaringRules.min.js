function startCVWerkervaring(a){console.info("Start werkervaring!!"),$.ajax({url:"/admin/getWerkervaring",type:"POST",contentType:"application/json",data:JSON.stringify({id:a}),success:function(a){console.info("Response Werkervaring:"),console.info(a);var b,c=a.cv,d=a.cv._id;console.info(c);var e=0,f=0,g=[],h=a.cv.werkervaring,i=addCVWizzard();if(h){console.info(d);var j=a.cv.werkervaring[0],k=addCVWerkervaring(j),g=h,l=tblWerkervaring(g,d)}else var k=addCVWerkervaring();$("#contentElement").html(i+k),$("#Personalia").click(function(){console.info("Personalia"),addCVPeronaliaForm(c)}),$("#Profiel").click(function(){console.info("Profiel"),startCVProfiel(c,user,d)}),$("#Werkervaring").click(function(){console.info("Werkervaring"),startCVWerkervaring(d)}),$("#Opleiding").click(function(){console.info("Opleiding"),startCVOpleiding(d)}),$("#Vaardigheden").click(function(){console.info("Vaardigheden")}),$("#txtdateDatumVan").datepicker(),$("#txtDatumTot").datepicker(),$("#tblWerkErvaring").html(l),$("#Profiel").removeClass(),$("#Werkervaring").addClass("active"),$("#addWerkervaring").click(function(){console.info("addWerkervaring"),g?(e=g.length,g=addWerkervaring(e,f,g,b,d)):(console.info("Werkervaring onbekend"),console.info(d),$.ajax({url:"/admin/getWerkervaring",type:"POST",contentType:"application/json",data:JSON.stringify({id:d}),success:function(a){console.info("Response Werkervaring:"),a.cv.werkervaring&&(g=a.cv.werkervaring,e=g.length,g=addWerkervaring(e,f,g,b,d))}}))}),$("#saveWerkervaring").click(function(){console.info("saveWerkervaring: "+d),startCVWerkervaring(d)})}})}function addCVWerkervaring(a){if(a){var b='<div class="tab-pane active fade in" id="tab3"> <div class="row margin-bottom-10" id="frmWerkervaring"> <div class="col-md-6"> <div class="row"> <div class="form-group col-md-6"> <label for="Functienaam">Functienaam</label> <input type="text" class="form-control" name="txtFunctienaam" id="txtFunctienaam" value="'+a.functienaam+'"> </div> <div class="form-group col-md-6"> <label for="Bedrijf">Bedrijf</label> <input type="text" class="form-control" name="txtBedrijf" id="txtBedrijf" value="'+a.bedrijf+'"> </div> <div class="form-group col-md-12"> <label for="van">van</label> <input type="text" class="form-control" name="txtDatumVan" id="txtdateDatumVan" value="'+a.van+'"> </div> <div class="form-group col-md-12"> <label for="tot">tot</label> <input type="text" class="form-control" name="txtDatumTot" id="txtDatumTot" value="'+a.tot+'"> </div> </div> </div> <div class="col-md-6"> <h3>Werkervaring</h3> <p><div id="tblWerkErvaring"></div></p> </div> </div> </div>',c='<div class="col-md-4"><a href="#" class="btn btn-default" id="updatedWerkervaring">Wijzigen Werkervaring <i class="fa fa-long-arrow-right"></i></a></div><div class="col-md-4" align="right"><a href="#" class="btn btn-default" id="addWerkervaring">Toevoegen Werkervaring <i class="fa fa-long-arrow-right"></i></a></div><div class="col-md-4" align="right"><a href="#" class="btn btn-default" id="saveWerkervaring">Volgende <i class="fa fa-long-arrow-right"></i></a></div>';return b+c}var b='<div class="tab-pane active fade in" id="tab3"> <div class="row margin-bottom-10" id="frmWerkervaring"> <div class="col-md-6"> <div class="row"> <div class="form-group col-md-6"> <label for="Functienaam">Functienaam</label> <input type="text" class="form-control" name="txtFunctienaam" id="txtFunctienaam" placeholder="Functienaam"> </div> <div class="form-group col-md-6"> <label for="Bedrijf">Bedrijf</label> <input type="text" class="form-control" name="txtBedrijf" id="txtBedrijf" placeholder="Bedrijf"> </div> <div class="form-group col-md-12"> <label for="van">Van</label> <input type="text" class="form-control" name="txtDatumVan" id="txtdateDatumVan" placeholder="Datum van"> </div> <div class="form-group col-md-12"> <label for="tot">tot</label> <input type="text" class="form-control" name="txtDatumTot" id="txtDatumTot" placeholder="Datum tot"> </div> </div> </div> <div class="col-md-6"> <h3>Werkervaring</h3> <p><div id="tblWerkErvaring"></div></p> </div> </div> </div>',c='<div id="cmdWerkervaring"></div><a href="#" class="btn btn-default" id="addWerkervaring">Toevoegen Werkervaring <i class="fa fa-long-arrow-right"></i></a></div>';return b+c}function buildWerkErvaringArray(a,b,c){var d=[],e=0;return b.forEach(function(b){a==b.bedrijf&&(e=1),a!=b.bedrijf&&(e=0)}),0==e?(d=b,d.push(c)):d=b,d}function tblWerkervaring(a,b){for(var c="<theader><th>Functienaam</th><th>Bedrijf</th><th>van</th><th>tot</th></theader>",d="<tbody>",e='<table id="roleTable" class="table table-hover">',f=0;f<a.length;f++)d=d+'<tr><td id="'+f+'">'+a[f].functienaam+'</td><td id="'+f+'">'+a[f].bedrijf+'</td><td id="'+f+'">'+a[f].van+'</td><td id="'+f+'">'+a[f].tot+'</td><td id="cmd'+f+'"><button type="button" class="btn btn-default btn-sm" onclick="updateFieldWerkervaring(\''+b+"','"+f+'\')"><span id="span"'+f+' class="glyphicon glyphicon-edit"></span> Edit</button></td><td id="del'+f+'"><button type="button" class="btn btn-default btn-sm" onclick="removeWerkervaring(\''+b+"','"+f+'\')"><span id="span"'+f+' class="glyphicon glyphicon-remove"></span> Remove</button></td></tr>';return e=e+c+d}function addWerkervaring(a,b,c,d,e){if(console.info("saveWerkervaring: "+a+" :  "+b),a>0){for(var f=0;f<a;f++)c[f].nr=f;var g=$("#txtFunctienaam").val(),h=$("#txtBedrijf").val(),i=$("#txtdateDatumVan").val(),j=$("#txtDatumTot").val(),k={nr:a-1,functienaam:g,bedrijf:h,van:i,tot:j}}else var g=$("#txtFunctienaam").val(),h=$("#txtBedrijf").val(),i=$("#txtdateDatumVan").val(),j=$("#txtDatumTot").val(),k={nr:1,functienaam:g,bedrijf:h,van:i,tot:j};c.push(k);var l=tblWerkervaring(c,e);$("#tblWerkErvaring").html(l),$.ajax({url:"/admin/saveWerkervaring",type:"POST",contentType:"application/json",data:JSON.stringify({werkervaring:c,id:e}),success:function(a){return console.info(a),c}})}function updateFieldWerkervaring(a,b){console.info("updateWerkervaring"),console.info(a),$.ajax({url:"/admin/getWerkervaring",type:"POST",contentType:"application/json",data:JSON.stringify({id:a}),success:function(c){var d=c.cv.werkervaring[b],e=c.cv.werkervaring;$("#txtFunctienaam").val(d.functienaam),$("#txtBedrijf").val(d.bedrijf),$("#txtdateDatumVan").val(d.van),$("#txtDatumTot").val(d.tot),$("#cmdWerkervaring").html(""),$("#cmdWerkervaring").html('<a href="#" class="btn btn-default" id="updatedWerkervaring">Wijzigen Werkervaring <i class="fa fa-long-arrow-right"></i></a>'),$("#updatedWerkervaring").click(function(){var c=$("#txtFunctienaam").val(),d=$("#txtBedrijf").val(),f=$("#txtdateDatumVan").val(),g=$("#txtDatumTot").val();e[b].functienaam=c,e[b].bedrijf=d,e[b].van=f,e[b].tot=g,$.ajax({url:"/admin/saveWerkervaring",type:"POST",contentType:"application/json",data:JSON.stringify({werkervaring:e,id:a}),success:function(b){console.info(b),$.ajax({url:"/admin/getWerkervaring",type:"POST",contentType:"application/json",data:JSON.stringify({id:a}),success:function(b){var c=tblWerkervaring(b.cv.werkervaring,a);$("#tblWerkErvaring").html(c)}})}})})}})}function removeWerkervaring(a,b){console.info("removeWerkervaring"),console.info(a),console.info(b),$.ajax({url:"/admin/removeWerkervaring",type:"POST",contentType:"application/json",data:JSON.stringify({id:a,row:b}),success:function(a){console.info(a.cv[0]),console.info(a.cv[0]._id),startCVWerkervaring(a.cv[0]._id)}})}
//# sourceMappingURL=cvWerkervaringRules.min.js.map